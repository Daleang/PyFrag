#! /bin/sh
#----------------------------------------------------------
#parse the command line for flags, should precede arguments
#----------------------------------------------------------
unset HELP
unset EXECUTABLE
#
while [ ! -z "$1" ]
do
    case $1 in
    -h)
        HELP=1
        shift;
        ;;
    -x)
        EXECUTABLE=$2
        shift;
        shift;
        ;;
    *)
        break;
        ;;
    esac
done
#
#----------------------
#print help information
#----------------------
if test ! -z "$HELP"
then
    echo "Usage: $0 [-h] [-x command] [...]"
    echo " "
    echo "       -h       : print this information"
    echo "       -x command  : start the executable named command"
    echo "                  default: name of the script with .sh: $0.sh"
    echo " "
    echo "Other arguments will be passed to the executable"
    echo " "
    echo "The example command like this:"
    echo "$0 job.in"
    echo "or"
    echo "$0 -x restart job.in"

    exit 1
fi


#start the program

if test -x "$PYFRAGHOME/bin/$EXECUTABLE.sh";
then
    exec "$PYFRAGHOME/bin/$EXECUTABLE.sh"  "$@"
else
    exec "$0.sh"  "$@"
fi
